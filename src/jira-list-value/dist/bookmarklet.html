<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      html,body,div { margin: 0; padding: 0; font: normal 16px/24px Helvetica Neue, Helvetica, sans-serif; color: #333; }
      #main { max-width: 630px; margin: 3em auto; }
      .bookmarklet { display: inline-block; padding: .5em 1em; color: #fff; background: #50dcf3; border-radius: 4px; text-decoration: none; }
      a { color: #50dcf3; }
      .dim { color: #999; }
    </style>
  </head>
  <body>
    <div id="main">
      <h1>Bookmarklet</h1>
      <p>
        Drag this button to your bookmarks bar to save it as a bookmarklet:
      </p>
      <p>
        <a class="bookmarklet" href="javascript:(function()%7B%22use%20strict%22%3Bfunction%20getTimeFieldValue(e)%7Breturn%20e.fields.resolutiondate%7Dfunction%20getTimeField(e)%7Breturn%20new%20Date(getTimeFieldValue(e)).getTime()%7Dfunction%20getResolvedByDate()%7Bvar%20e%3Dprompt(%22Enter%20min%20date.%20(resolved%20%3E%3D%20minDate)%22)%2Ct%3Dprompt(%22Enter%20max%20date.%20(resolved%20%3C%20maxDate)%22)%2Cn%3D%22%2Frest%2Fapi%2F2%2Fsearch%3Ffilter%3D-4%26jql%3Dassignee%20in%20(currentUser())%20AND%20status%20%253D%20Resolved%20AND%20%22%2B'resolved%20%3E%3D%20%22'.concat(e%2C'%22%20AND%20resolved%20%3C%20%22').concat(t%2C'%22%20order%20by%20resolutiondate%20DESC')%2Ci%3DparseInt(prompt(%22Enter%20the%20hourly%20rate.%20(leave%20empty%20to%20hide%20hour%20count)%22))%3Bconsole.log(n)%2Cfetch(n).then((function(e)%7Breturn%20e.json()%7D)).then((function(e)%7Bvar%20t%3De.issues.sort((function(e%2Ct)%7Breturn%20getTimeField(e)-getTimeField(t)%7D))%2Cn%3Dt.map((function(e)%7Breturn%22%22.concat(e.key%2C%22%3A%20%22).concat(e.fields.summary%2C%22%20(%22).concat(e.fields.customfield_10025%2C%22)%22)%2B(0%3Ci%3F%22%20(%22.concat((parseInt(e.fields.customfield_10025)%2Fi).toFixed(1).replace(%2F%5C.%3F0%2B%24%2F%2C%22%22)%2C%22)%22)%3A%22%22)%7D))%2Co%3De.issues.map((function(e)%7Breturn%20e.fields.customfield_10025%7D)).reduce((function(e%2Ct)%7Breturn%20e%2Bt%7D)%2C0)%2Cl%3D%5Bn.join(%22%5Cn%22)%2C%22Total%3A%20%22%2Bo%2C%22Date%20Range%3A%20%22%2BgetTimeFieldValue(t%5B0%5D)%2B%22%20-%20%22%2BgetTimeFieldValue(t%5Bt.length-1%5D)%5D.join(%22%5Cn%5Cn%5Cn%22)%2Cr%3Ddocument.createElement(%22pre%22)%3Bdocument.body.appendChild(r)%2Cr.innerHTML%3Dl%2Cr.style.display%3D%22block%22%2Cr.style.position%3D%22fixed%22%2Cr.style.width%3D%22100vw%22%2Cr.style.height%3D%22100vh%22%2Cr.style.top%3D0%2Cr.style.left%3D0%2Cr.style.zIndex%3D99999%2Cr.style.background%3D%22white%22%3Bvar%20s%3Ddocument.createElement(%22button%22)%3Bs.innerHTML%3D%22Close%22%2Cs.style.display%3D%22block%22%2Cs.onclick%3Dfunction()%7Breturn%20r.parentElement.removeChild(r)%7D%2Cr.appendChild(s)%7D))%7DgetResolvedByDate()%3B%7D)()">Bookmarklet</a>
      </p>
      
      <p class="dim">This page was created with the <a href="https://github.com/mrcoles/bookmarklet">bookmarklet</a> npm library.</p>
    </div>
  </body>
</html>
